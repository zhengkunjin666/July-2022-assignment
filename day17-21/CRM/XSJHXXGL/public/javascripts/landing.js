const PAGE={init:function(){this.bind()},bind:function(){let e=document.getElementById("order-btn"),t=(e.addEventListener("click",this.handleInsert),document.getElementById("phone"));t.addEventListener("focus",this.errorText)},handleInsert:async function(){var e=document.getElementById("name").value,t=document.getElementById("phone").value,n=location.search.split("=")[1];if(e&&t)if(PAGE.isMobile(t)){e=await fetch("/admin/clue",{method:"POST",body:JSON.stringify({name:e,phone:t,source:n}),headers:{"Content-Type":"application/json"}}).then(e=>e.json());200===e.code?(alert(e.data.msg),location.reload()):(alert("预约失败！"),console.log(e.data))}else{let e=document.getElementById("errorText");e.innerText="手机格式不正确"}else alert("缺少参数!")},isMobile:function(e){return/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(e)},errorText:function(){let e=document.getElementById("errorText");e.innerText=""}};PAGE.init();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhbmRpbmcuanMiXSwibmFtZXMiOlsiUEFHRSIsImluaXQiLCJ0aGlzIiwiYmluZCIsIm9yZGVyQnRuIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInBob25lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUluc2VydCIsImVycm9yVGV4dCIsImFzeW5jIiwibmFtZSIsInZhbHVlIiwic291cmNlIiwibG9jYXRpb24iLCJzZWFyY2giLCJzcGxpdCIsImlzTW9iaWxlIiwiaW5zZXJ0RmV0Y2giLCJmZXRjaCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJhbGVydCIsImRhdGEiLCJtc2ciLCJjb2RlIiwicmVsb2FkIiwiY29uc29sZSIsImxvZyIsImxldCIsInZhbCIsInRlc3QiLCJpbm5lclRleHQiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEtBQUksQ0FDTkMsS0FBTSxXQUNGQyxLQUFBQyxRQUVKQSxLQUFNLFdBQ0VDLElBQUFBLEVBQVNDLFNBQVNDLGVBQWUsYUFFakNDLEdBREpILEVBQVNJLGlCQUFpQixRQUFRTixLQUFLTyxjQUM3QkosU0FBU0MsZUFBZSxVQUNsQ0MsRUFBTUMsaUJBQWlCLFFBQVFOLEtBQUtRLFlBRXhDRCxhQUFjRSxpQkFDTkMsSUFBSUEsRUFBQ1AsU0FBU0MsZUFBZSxRQUFRTyxNQUNyQ04sRUFBTUYsU0FBU0MsZUFBZSxTQUFTTyxNQUN2Q0MsRUFBT0MsU0FBU0MsT0FBT0MsTUFBTSxLQUFqQyxHQUNBLEdBQUlMLEdBQVNMLEVBRVQsR0FBQVAsS0FBQWtCLFNBQUFYLEdBSUEsQ0FDQ1ksUUFBQUMsTUFBQSxjQUFBLENBQ0dELE9BQVksT0FDSkUsS0FEOEJDLEtBQUFDLFVBQUEsQ0FFM0JBLEtBQUFBLEVBQVVoQixNQUFBQSxFQUVWQSxPQUZVTyxJQUZpQlUsUUFBQSxDQU83QkMsZUFBQSxzQkFBQUMsS0FBQUMsR0FBQUEsRUFBQUMsUUFHZ0JBLE1BQXJCRCxFQUFZQSxNQUVoQkUsTUFBTVYsRUFBWVcsS0FBS0MsS0FEeEJaLFNBQVlhLFdBRUhILE1BQUNJLFNBQ1JDLFFBQUFDLElBQUFoQixFQUFBVyxXQXBCTCxDQUNFTSxJQUFJcEMsRUFBS2tCLFNBQUxaLGVBQXFCLGFBQ3ZCSSxFQUFVTCxVQUFTQyxlQUp2Qk0sTUFBU0wsVUEwQlpXLFNBQUEsU0FBQW1CLEdBeENFLE1BQUEsK0VBQUFDLEtBQUFELElBMkNIM0IsVUFBTyxXQTNDSjBCLElBQUExQixFQUFBTCxTQUFBQyxlQUFBLGFBNkNQSSxFQUFXNkIsVUFBVSxLQUt6QnZDLEtBRktDIiwiZmlsZSI6ImxhbmRpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQQUdFPXtcclxuICAgIGluaXQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5iaW5kKCk7XHJcbiAgICB9LFxyXG4gICAgYmluZDogZnVuY3Rpb24oKXtcclxuICAgICAgICBsZXQgb3JkZXJCdG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yZGVyLWJ0bicpO1xyXG4gICAgICAgIG9yZGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyx0aGlzLmhhbmRsZUluc2VydCk7XHJcbiAgICAgICAgbGV0IHBob25lPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG9uZScpO1xyXG4gICAgICAgIHBob25lLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJyx0aGlzLmVycm9yVGV4dCk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlSW5zZXJ0OiBhc3luYyBmdW5jdGlvbigpe1xyXG4gICAgICAgIGxldCBuYW1lPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lJykudmFsdWU7XHJcbiAgICAgICAgbGV0IHBob25lPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG9uZScpLnZhbHVlO1xyXG4gICAgICAgIGxldCBzb3VyY2U9bG9jYXRpb24uc2VhcmNoLnNwbGl0KFwiPVwiKVsxXTtcclxuICAgICAgICBpZighbmFtZSB8fCAhcGhvbmUpe1xyXG4gICAgICAgICAgICBhbGVydCgn57y65bCR5Y+C5pWwIScpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1lbHNlIGlmKCFQQUdFLmlzTW9iaWxlKHBob25lKSl7XHJcbiAgICAgICAgICAgIGxldCBlcnJvclRleHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yVGV4dCcpO1xyXG4gICAgICAgICAgICBlcnJvclRleHQuaW5uZXJUZXh0PVwi5omL5py65qC85byP5LiN5q2j56GuXCI7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBsZXQgaW5zZXJ0RmV0Y2g9YXdhaXQgZmV0Y2goJy9hZG1pbi9jbHVlJyx7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHBob25lOiBwaG9uZSxcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKTtcclxuICAgICAgICAgICAgaWYoaW5zZXJ0RmV0Y2guY29kZSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KGluc2VydEZldGNoLmRhdGEubXNnKVxyXG4gICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCLpooTnuqblpLHotKXvvIFcIilcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGluc2VydEZldGNoLmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGlzTW9iaWxlOiBmdW5jdGlvbih2YWwpe1xyXG4gICAgICAgIHJldHVybiAvXigxM1swLTldfDE0WzAxNDU2ODc5XXwxNVswLTM1LTldfDE2WzI1NjddfDE3WzAtOF18MThbMC05XXwxOVswLTM1LTldKVxcZHs4fSQvLnRlc3QodmFsKTtcclxuICAgIH0sXHJcbiAgICBlcnJvclRleHQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgbGV0IGVycm9yVGV4dD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3JUZXh0Jyk7XHJcbiAgICAgICAgZXJyb3JUZXh0LmlubmVyVGV4dD1cIlwiO1xyXG4gICAgfSxcclxufTtcclxuUEFHRS5pbml0KCk7Il19