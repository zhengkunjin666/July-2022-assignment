const PAGE={init:function(){this.bind()},bind:function(){let e=document.getElementById("order-btn"),t=(e.addEventListener("click",this.handleInsert),document.getElementById("phone"));t.addEventListener("focus",this.errorText)},handleInsert:async function(){var e=document.getElementById("name").value,t=document.getElementById("phone").value,n=location.search.split("=")[1];if(e&&t)if(PAGE.isMobile(t)){e=await fetch("/admin/clue",{method:"POST",body:JSON.stringify({name:e,phone:t,source:n}),headers:{"Content-Type":"application/json"}}).then(e=>e.json());200===e.code?(alert(e.data.msg),location.reload()):alert("预约失败！")}else{let e=document.getElementById("errorText");e.innerText="手机格式不正确"}else alert("缺少参数!")},isMobile:function(e){return/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(e)},errorText:function(){let e=document.getElementById("errorText");e.innerText=""}};PAGE.init();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhbmRpbmcuanMiXSwibmFtZXMiOlsiUEFHRSIsImluaXQiLCJ0aGlzIiwiYmluZCIsIm9yZGVyQnRuIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInBob25lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUluc2VydCIsImVycm9yVGV4dCIsImFzeW5jIiwibmFtZSIsInZhbHVlIiwic291cmNlIiwibG9jYXRpb24iLCJzZWFyY2giLCJzcGxpdCIsImlzTW9iaWxlIiwiaW5zZXJ0RmV0Y2giLCJmZXRjaCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJhbGVydCIsImRhdGEiLCJtc2ciLCJjb2RlIiwicmVsb2FkIiwibGV0IiwidmFsIiwidGVzdCIsImlubmVyVGV4dCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsS0FBSSxDQUNOQyxLQUFNLFdBQ0ZDLEtBQUFDLFFBRUpBLEtBQU0sV0FDRUMsSUFBQUEsRUFBU0MsU0FBU0MsZUFBZSxhQUVqQ0MsR0FESkgsRUFBU0ksaUJBQWlCLFFBQVFOLEtBQUtPLGNBQzdCSixTQUFTQyxlQUFlLFVBQ2xDQyxFQUFNQyxpQkFBaUIsUUFBUU4sS0FBS1EsWUFFeENELGFBQWNFLGlCQUNOQyxJQUFJQSxFQUFDUCxTQUFTQyxlQUFlLFFBQVFPLE1BQ3JDTixFQUFNRixTQUFTQyxlQUFlLFNBQVNPLE1BQ3ZDQyxFQUFPQyxTQUFTQyxPQUFPQyxNQUFNLEtBQWpDLEdBQ0EsR0FBSUwsR0FBU0wsRUFFVCxHQUFBUCxLQUFBa0IsU0FBQVgsR0FJQSxDQUNDWSxRQUFBQyxNQUFBLGNBQUEsQ0FDR0QsT0FBWSxPQUNKRSxLQUQ4QkMsS0FBQUMsVUFBQSxDQUUzQkEsS0FBQUEsRUFBVWhCLE1BQUFBLEVBRVZBLE9BRlVPLElBRmlCVSxRQUFBLENBTzdCQyxlQUFBLHNCQUFBQyxLQUFBQyxHQUFBQSxFQUFBQyxRQUdnQkEsTUFBckJELEVBQVlBLE1BRWhCRSxNQUFNVixFQUFZVyxLQUFLQyxLQUR4QlosU0FBWWEsVUFFSEgsTUFBQ0ksYUFuQmIsQ0FDRUMsSUFBSWxDLEVBQUtrQixTQUFMWixlQUFxQixhQUN2QkksRUFBVUwsVUFBU0MsZUFKdkJNLE1BQVNMLFVBZFZXLFNBQUEsU0FBQWlCLEdBMENQakIsTUFBVSwrRUFBYWtCLEtBQUFELElBMUNoQnpCLFVBQUEsV0E2Q1BBLElBQVNBLEVBQUVMLFNBQVVDLGVBQUEsYUFDYkksRUFBUzJCLFVBQVMsS0E5Q25CckMsS0FBWEMiLCJmaWxlIjoibGFuZGluZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBBR0U9e1xyXG4gICAgaW5pdDogZnVuY3Rpb24oKXtcclxuICAgICAgICB0aGlzLmJpbmQoKTtcclxuICAgIH0sXHJcbiAgICBiaW5kOiBmdW5jdGlvbigpe1xyXG4gICAgICAgIGxldCBvcmRlckJ0bj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JkZXItYnRuJyk7XHJcbiAgICAgICAgb3JkZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLHRoaXMuaGFuZGxlSW5zZXJ0KTtcclxuICAgICAgICBsZXQgcGhvbmU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lJyk7XHJcbiAgICAgICAgcGhvbmUuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLHRoaXMuZXJyb3JUZXh0KTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVJbnNlcnQ6IGFzeW5jIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgbGV0IG5hbWU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKS52YWx1ZTtcclxuICAgICAgICBsZXQgcGhvbmU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lJykudmFsdWU7XHJcbiAgICAgICAgbGV0IHNvdXJjZT1sb2NhdGlvbi5zZWFyY2guc3BsaXQoXCI9XCIpWzFdO1xyXG4gICAgICAgIGlmKCFuYW1lIHx8ICFwaG9uZSl7XHJcbiAgICAgICAgICAgIGFsZXJ0KCfnvLrlsJHlj4LmlbAhJylcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfWVsc2UgaWYoIVBBR0UuaXNNb2JpbGUocGhvbmUpKXtcclxuICAgICAgICAgICAgbGV0IGVycm9yVGV4dD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3JUZXh0Jyk7XHJcbiAgICAgICAgICAgIGVycm9yVGV4dC5pbm5lclRleHQ9XCLmiYvmnLrmoLzlvI/kuI3mraPnoa5cIjtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGxldCBpbnNlcnRGZXRjaD1hd2FpdCBmZXRjaCgnL2FkbWluL2NsdWUnLHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHBob25lLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogc291cmNlLFxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpO1xyXG4gICAgICAgICAgICBpZihpbnNlcnRGZXRjaC5jb2RlID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoaW5zZXJ0RmV0Y2guZGF0YS5tc2cpXHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIumihOe6puWksei0pe+8gVwiKVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaW5zZXJ0RmV0Y2guZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaXNNb2JpbGU6IGZ1bmN0aW9uKHZhbCl7XHJcbiAgICAgICAgcmV0dXJuIC9eKDEzWzAtOV18MTRbMDE0NTY4NzldfDE1WzAtMzUtOV18MTZbMjU2N118MTdbMC04XXwxOFswLTldfDE5WzAtMzUtOV0pXFxkezh9JC8udGVzdCh2YWwpO1xyXG4gICAgfSxcclxuICAgIGVycm9yVGV4dDogZnVuY3Rpb24oKXtcclxuICAgICAgICBsZXQgZXJyb3JUZXh0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvclRleHQnKTtcclxuICAgICAgICBlcnJvclRleHQuaW5uZXJUZXh0PVwiXCI7XHJcbiAgICB9LFxyXG59O1xyXG5QQUdFLmluaXQoKTsiXX0=