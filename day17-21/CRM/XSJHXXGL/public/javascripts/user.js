const PAGE={init:function(){this.bind()},bind:function(){window.addEventListener("load",this.highlight);var t=document.getElementById("table");this.onEventlister(t,"click","update",this.editShow),this.onEventlister(t,"click","delete",this.handlerDelete)},onEventlister:function(t,e,n,i){t.addEventListener(e,function(t){0<=t.target.className.indexOf(n)&&i(t)})},highlight:function(){let e=window.location.href,n=document.getElementsByClassName("nav-item");for(let t=0;t<n.length;t++){var i=n[t].dataset.id;-1!=e.indexOf(i)&&(n[t].className="nav-item active")}},editShow:function(t){t=t.target.dataset.id;location.assign("/admin/user/edit?id="+t)},handlerDelete:async function(t){var t=t.target.dataset.id,e=document.getElementById("csrf").value;t&&confirm("删除后数据将不可恢复，确定要删除吗？")&&(200===(t=await fetch("/admin/user",{method:"DELETE",body:JSON.stringify({id:t,csrf:e}),headers:{"content-type":"application/json"}}).then(t=>t.json())).code?(alert("删除成功！"),location.reload()):(alert("删除失败！"),console.log(t.data)))}};PAGE.init();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiUEFHRSIsImluaXQiLCJ0aGlzIiwiYmluZCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoaWdobGlnaHQiLCJ0YWJsZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJvbkV2ZW50bGlzdGVyIiwiZWRpdFNob3ciLCJoYW5kbGVyRGVsZXRlIiwicGFyZW50Tm9kZSIsImFjdGlvbiIsImNoaWxkQ2xhc3NOYW1lIiwiY2FsbGJhY2siLCJlIiwidGFyZ2V0IiwiY2xhc3NOYW1lIiwiaW5kZXhPZiIsImhyZWYiLCJsb2NhdGlvbiIsIm5hdkl0ZW0iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibGV0IiwiaSIsImxlbmd0aCIsImlkIiwiZGF0YXNldCIsImV2ZW50IiwiYXN5bmMiLCJ2YWx1ZSIsIkRlbGV0ZUZldGNoIiwiZmV0Y2giLCJjb25maXJtIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjc3JmIiwiaGVhZGVycyIsImNvbnRlbnQtdHlwZSIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJjb2RlIiwiYWxlcnQiLCJyZWxvYWQiLCJsb2ciLCJkYXRhIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxLQUFJLENBQ05DLEtBQU0sV0FDRkMsS0FBQUMsUUFFSkEsS0FBTSxXQUNGQyxPQUFPQyxpQkFBaUIsT0FBT0gsS0FBS0ksV0FDaENDLElBQUFBLEVBQU1DLFNBQVNDLGVBQWUsU0FDbENQLEtBQUtRLGNBQWNILEVBQU0sUUFBUSxTQUFTTCxLQUFLUyxVQUMvQ1QsS0FBS1EsY0FBY0gsRUFBTSxRQUFRLFNBQVNMLEtBQUtVLGdCQUVuREYsY0FBZSxTQUFTRyxFQUFXQyxFQUFwQkMsRUFBQUMsR0FDWEgsRUFBV1IsaUJBQWlCUyxFQUFPLFNBQUFHLEdBQy9CLEdBQUVDLEVBQUZBLE9BQVNDLFVBQVVDLFFBQVFMLElBQXNCQyxFQUFqREMsTUFHUlgsVUFBVyxXQUNIZSxJQUFJQSxFQUFDakIsT0FBT2tCLFNBQVNELEtBQ3JCRSxFQUFRZixTQUFTZ0IsdUJBQXVCLFlBQzVDLElBQUlDLElBQUlDLEVBQUUsRUFBRUEsRUFBRUgsRUFBUUksT0FBT0QsSUFBSSxDQUE3QkQsSUFBS0csRUFBVEwsRUFBY0EsR0FBQUEsUUFBZEssSUFDSSxHQUFPTCxFQUFBQSxRQUFXTSxLQUVkTixFQUFRRyxHQUFHUCxVQUFVLHFCQUU1QlIsU0FBQSxTQUFBbUIsR0F2QkVGLEVBQUFFLEVBQUFaLE9BQUFXLFFBQUFELEdBMEJDQSxTQUFHRSxPQURELHVCQUFlRixJQUdyQk4sY0FBQVMsZUFBQUQsR0E1QkdMLElBQUFHLEVBQUFFLEVBQUFaLE9BQUFXLFFBQUFELEdBOEJQaEIsRUFBZUosU0FBQUMsZUFBcUIsUUFBQXVCLE1BQzFCSixHQUNZbkIsUUFBQUEsd0JBVUUsT0FUZHdCLFFBQUFDLE1BQUEsY0FBQSxDQUNVQyxPQUFRLFNBSVpDLEtBQU1DLEtBQUtDLFVBQVUsQ0FIbEJWLEdBQUFBLEVBQ1FXLEtBQUNBLElBRUZDLFFBQUNGLENBQVVHLGVBQUEsc0JBRmlCQyxLQUFBQyxHQUFBQSxFQUFBQyxTQU05QkMsTUFDSkMsTUFBQSxTQURJeEIsU0FBQXlCLFdBUVJELE1BQU0sU0FKUGIsUUFBQWUsSUFBQWYsRUFBdUJnQixVQVcxQ2pELEtBQUtDIiwiZmlsZSI6InVzZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQQUdFPXtcclxuICAgIGluaXQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5iaW5kKCk7XHJcbiAgICB9LFxyXG4gICAgYmluZDogZnVuY3Rpb24oKXtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsdGhpcy5oaWdobGlnaHQpO1xyXG4gICAgICAgIGxldCB0YWJsZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFibGUnKTtcclxuICAgICAgICB0aGlzLm9uRXZlbnRsaXN0ZXIodGFibGUsJ2NsaWNrJywndXBkYXRlJyx0aGlzLmVkaXRTaG93KTtcclxuICAgICAgICB0aGlzLm9uRXZlbnRsaXN0ZXIodGFibGUsJ2NsaWNrJywnZGVsZXRlJyx0aGlzLmhhbmRsZXJEZWxldGUpO1xyXG4gICAgfSxcclxuICAgIG9uRXZlbnRsaXN0ZXI6IGZ1bmN0aW9uKHBhcmVudE5vZGUsYWN0aW9uLGNoaWxkQ2xhc3NOYW1lLGNhbGxiYWNrKXtcclxuICAgICAgICBwYXJlbnROb2RlLmFkZEV2ZW50TGlzdGVuZXIoYWN0aW9uLGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnRhcmdldC5jbGFzc05hbWUuaW5kZXhPZihjaGlsZENsYXNzTmFtZSk+PTAgJiYgY2FsbGJhY2soZSk7XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBoaWdobGlnaHQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgbGV0IGhyZWY9d2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICAgICAgbGV0IG5hdkl0ZW09ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmF2LWl0ZW0nKTtcclxuICAgICAgICBmb3IobGV0IGk9MDtpPG5hdkl0ZW0ubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGxldCBpZD1uYXZJdGVtW2ldLmRhdGFzZXQuaWQ7XHJcbiAgICAgICAgICAgIGlmKGhyZWYuaW5kZXhPZihpZCkgIT0gLTEpe1xyXG4gICAgICAgICAgICAgICAgbmF2SXRlbVtpXS5jbGFzc05hbWU9XCJuYXYtaXRlbSBhY3RpdmVcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBlZGl0U2hvdzogZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgIGxldCBpZD1ldmVudC50YXJnZXQuZGF0YXNldC5pZDtcclxuICAgICAgICBsZXQgdXJsPWAvYWRtaW4vdXNlci9lZGl0P2lkPSR7aWR9YDtcclxuICAgICAgICBsb2NhdGlvbi5hc3NpZ24odXJsKTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVyRGVsZXRlOiBhc3luYyBmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgbGV0IGlkPWV2ZW50LnRhcmdldC5kYXRhc2V0LmlkO1xyXG4gICAgICAgIGxldCBjc3JmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjc3JmJykudmFsdWU7XHJcbiAgICAgICAgaWYoaWQpe1xyXG4gICAgICAgICAgICBsZXQgbWVzc2FnZT1jb25maXJtKFwi5Yig6Zmk5ZCO5pWw5o2u5bCG5LiN5Y+v5oGi5aSN77yM56Gu5a6a6KaB5Yig6Zmk5ZCX77yfXCIpO1xyXG4gICAgICAgICAgICBpZihtZXNzYWdlKXtcclxuICAgICAgICAgICAgICAgIGxldCBEZWxldGVGZXRjaD1hd2FpdCBmZXRjaCgnL2FkbWluL3VzZXInLHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3JmOiBjc3JmLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgICAgICAgICBpZihEZWxldGVGZXRjaC5jb2RlPT09MjAwKXtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIuWIoOmZpOaIkOWKn++8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi5Yig6Zmk5aSx6LSl77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKERlbGV0ZUZldGNoLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufTtcclxuUEFHRS5pbml0KCk7Il19