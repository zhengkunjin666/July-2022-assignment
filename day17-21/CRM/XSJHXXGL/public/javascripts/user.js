const PAGE={init:function(){this.bind()},bind:function(){window.addEventListener("load",this.highlight);var t=document.getElementById("table");this.onEventlister(t,"click","update",this.editShow),this.onEventlister(t,"click","delete",this.handlerDelete)},onEventlister:function(t,e,n,i){t.addEventListener(e,function(t){0<=t.target.className.indexOf(n)&&i(t)})},highlight:function(){let e=window.location.href,n=document.getElementsByClassName("nav-item");for(let t=0;t<n.length;t++){var i=n[t].dataset.id;-1!=e.indexOf(i)&&(n[t].className="nav-item active")}},editShow:function(t){t=t.target.dataset.id;location.assign("/admin/user/edit?id="+t)},handlerDelete:async function(t){var t=t.target.dataset.id,e=document.getElementById("csrf").value;t&&confirm("删除后数据将不可恢复，确定要删除吗？")&&(200===(await fetch("/admin/user",{method:"DELETE",body:JSON.stringify({id:t,csrf:e}),headers:{"content-type":"application/json"}}).then(t=>t.json())).code?(alert("删除成功！"),location.reload()):alert("删除失败！"))}};PAGE.init();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiUEFHRSIsImluaXQiLCJ0aGlzIiwiYmluZCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoaWdobGlnaHQiLCJ0YWJsZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJvbkV2ZW50bGlzdGVyIiwiZWRpdFNob3ciLCJoYW5kbGVyRGVsZXRlIiwicGFyZW50Tm9kZSIsImFjdGlvbiIsImNoaWxkQ2xhc3NOYW1lIiwiY2FsbGJhY2siLCJlIiwidGFyZ2V0IiwiY2xhc3NOYW1lIiwiaW5kZXhPZiIsImhyZWYiLCJsb2NhdGlvbiIsIm5hdkl0ZW0iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibGV0IiwiaSIsImxlbmd0aCIsImlkIiwiZGF0YXNldCIsImV2ZW50IiwiYXN5bmMiLCJ2YWx1ZSIsImZldGNoIiwiY29uZmlybSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY3NyZiIsImhlYWRlcnMiLCJjb250ZW50LXR5cGUiLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiY29kZSIsImFsZXJ0IiwicmVsb2FkIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxLQUFJLENBQ05DLEtBQU0sV0FDRkMsS0FBQUMsUUFFSkEsS0FBTSxXQUNGQyxPQUFPQyxpQkFBaUIsT0FBT0gsS0FBS0ksV0FDaENDLElBQUFBLEVBQU1DLFNBQVNDLGVBQWUsU0FDbENQLEtBQUtRLGNBQWNILEVBQU0sUUFBUSxTQUFTTCxLQUFLUyxVQUMvQ1QsS0FBS1EsY0FBY0gsRUFBTSxRQUFRLFNBQVNMLEtBQUtVLGdCQUVuREYsY0FBZSxTQUFTRyxFQUFXQyxFQUFwQkMsRUFBQUMsR0FDWEgsRUFBV1IsaUJBQWlCUyxFQUFPLFNBQUFHLEdBQy9CLEdBQUVDLEVBQUZBLE9BQVNDLFVBQVVDLFFBQVFMLElBQXNCQyxFQUFqREMsTUFHUlgsVUFBVyxXQUNIZSxJQUFJQSxFQUFDakIsT0FBT2tCLFNBQVNELEtBQ3JCRSxFQUFRZixTQUFTZ0IsdUJBQXVCLFlBQzVDLElBQUlDLElBQUlDLEVBQUUsRUFBRUEsRUFBRUgsRUFBUUksT0FBT0QsSUFBSSxDQUE3QkQsSUFBS0csRUFBVEwsRUFBY0EsR0FBQUEsUUFBZEssSUFDSSxHQUFPTCxFQUFBQSxRQUFXTSxLQUVkTixFQUFRRyxHQUFHUCxVQUFVLHFCQUU1QlIsU0FBQSxTQUFBbUIsR0F2QkVGLEVBQUFFLEVBQUFaLE9BQUFXLFFBQUFELEdBMEJDQSxTQUFHRSxPQURELHVCQUFlRixJQUdyQk4sY0FBQVMsZUFBQUQsR0E1QkdMLElBQUFHLEVBQUFFLEVBQUFaLE9BQUFXLFFBQUFELEdBOEJQaEIsRUFBZUosU0FBQUMsZUFBcUIsUUFBQXVCLE1BQzFCSixHQUNZbkIsUUFBQUEsd0JBVUUsYUFUZHdCLE1BQUEsY0FBQSxDQUNVQyxPQUFRLFNBSVpDLEtBQU1DLEtBQUtDLFVBQVUsQ0FIbEJULEdBQUFBLEVBQ1FVLEtBQUNBLElBRUZDLFFBQUNGLENBQVVHLGVBQUEsc0JBRmlCQyxLQUFBQyxHQUFBQSxFQUFBQyxTQU05QkMsTUFDSkMsTUFBQSxTQURJdkIsU0FBQXdCLFVBUVJELE1BQU0sWUFPMUI3QyxLQUFLQyIsImZpbGUiOiJ1c2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUEFHRT17XHJcbiAgICBpbml0OiBmdW5jdGlvbigpe1xyXG4gICAgICAgIHRoaXMuYmluZCgpO1xyXG4gICAgfSxcclxuICAgIGJpbmQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLHRoaXMuaGlnaGxpZ2h0KTtcclxuICAgICAgICBsZXQgdGFibGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlJyk7XHJcbiAgICAgICAgdGhpcy5vbkV2ZW50bGlzdGVyKHRhYmxlLCdjbGljaycsJ3VwZGF0ZScsdGhpcy5lZGl0U2hvdyk7XHJcbiAgICAgICAgdGhpcy5vbkV2ZW50bGlzdGVyKHRhYmxlLCdjbGljaycsJ2RlbGV0ZScsdGhpcy5oYW5kbGVyRGVsZXRlKTtcclxuICAgIH0sXHJcbiAgICBvbkV2ZW50bGlzdGVyOiBmdW5jdGlvbihwYXJlbnROb2RlLGFjdGlvbixjaGlsZENsYXNzTmFtZSxjYWxsYmFjayl7XHJcbiAgICAgICAgcGFyZW50Tm9kZS5hZGRFdmVudExpc3RlbmVyKGFjdGlvbixmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NOYW1lLmluZGV4T2YoY2hpbGRDbGFzc05hbWUpPj0wICYmIGNhbGxiYWNrKGUpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgaGlnaGxpZ2h0OiBmdW5jdGlvbigpe1xyXG4gICAgICAgIGxldCBocmVmPXdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgICAgIGxldCBuYXZJdGVtPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25hdi1pdGVtJyk7XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTxuYXZJdGVtLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBsZXQgaWQ9bmF2SXRlbVtpXS5kYXRhc2V0LmlkO1xyXG4gICAgICAgICAgICBpZihocmVmLmluZGV4T2YoaWQpICE9IC0xKXtcclxuICAgICAgICAgICAgICAgIG5hdkl0ZW1baV0uY2xhc3NOYW1lPVwibmF2LWl0ZW0gYWN0aXZlXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZWRpdFNob3c6IGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICBsZXQgaWQ9ZXZlbnQudGFyZ2V0LmRhdGFzZXQuaWQ7XHJcbiAgICAgICAgbGV0IHVybD1gL2FkbWluL3VzZXIvZWRpdD9pZD0ke2lkfWA7XHJcbiAgICAgICAgbG9jYXRpb24uYXNzaWduKHVybCk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlckRlbGV0ZTogYXN5bmMgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgIGxldCBpZD1ldmVudC50YXJnZXQuZGF0YXNldC5pZDtcclxuICAgICAgICBsZXQgY3NyZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3NyZicpLnZhbHVlO1xyXG4gICAgICAgIGlmKGlkKXtcclxuICAgICAgICAgICAgbGV0IG1lc3NhZ2U9Y29uZmlybShcIuWIoOmZpOWQjuaVsOaNruWwhuS4jeWPr+aBouWkje+8jOehruWumuimgeWIoOmZpOWQl++8n1wiKTtcclxuICAgICAgICAgICAgaWYobWVzc2FnZSl7XHJcbiAgICAgICAgICAgICAgICBsZXQgRGVsZXRlRmV0Y2g9YXdhaXQgZmV0Y2goJy9hZG1pbi91c2VyJyx7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NyZjogY3NyZixcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAgICAgICAgICAgaWYoRGVsZXRlRmV0Y2guY29kZT09PTIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLliKDpmaTmiJDlip/vvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIuWIoOmZpOWksei0pe+8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhEZWxldGVGZXRjaC5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn07XHJcblBBR0UuaW5pdCgpOyJdfQ==